{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,uCAQeC,SAASC,cAAc,cAAtC,MACMC,EAAOF,SAASC,cAAc,Y,IAChBE,EAApB,MAAMC,EAAmE,QAArDD,EAAAE,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOC,sBAAc,IAArDP,IAAyD,G,IAC3DQ,EAAlB,MAAMC,EAA+D,QAAnDD,EAAAN,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOI,oBAAY,IAAnDF,IAAuD,GA+BzE,SAASG,EAAYC,GACnB,MAAMC,EAAYC,OAAOF,EAAKG,QAAQ,YAAYC,QAAQC,IAC1D,OAAOC,EAAAC,YAAYC,MAAK,EAACH,GAAEA,KAASA,IAAOJ,G,EA/B7C,EAAAQ,EAAAC,cAAaJ,EAAAC,YAAapB,GAC1BA,EAAKwB,iBAAiB,SAEtB,SAAiBC,GAEf,GADAA,EAAIC,iBACAD,EAAIE,OAAOC,UAAUC,SAAS,WAAY,CAC5C,MAAMC,EAAUlB,EAAYa,EAAIE,SAChC,EAAAI,EAAAC,aAAYF,E,CAGd,GAAIL,EAAIE,OAAOC,UAAUC,SAAS,aAAc,CAC9C,MAAMC,EAAUlB,EAAYa,EAAIE,QAChCjB,EAAUuB,KAAKH,GACfzB,aAAa6B,QAAQtC,EAAAW,OAAOI,WAAYR,KAAKgC,UAAUzB,G,CAGzD,GAAIe,EAAIE,OAAOC,UAAUC,SAAS,eAAgB,CAChD,MAAMC,EAAUlB,EAAYa,EAAIE,QAGhC,GAFkBzB,EAAYkC,MAAK,EAAClB,GAAEA,KAASA,IAAOY,EAAQZ,KAG5D,OAGFhB,EAAY+B,KAAKH,GACjBzB,aAAa6B,QAAQtC,EAAAW,OAAOC,aAAcL,KAAKgC,UAAUjC,G","sources":["src/index.js"],"sourcesContent":["import { common } from './common';\nimport { createMarkup } from './helpers/createMarkup';\nimport { createModal } from './helpers/createModal';\nimport { instruments } from './helpers/instruments';\n\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\n\nconst search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nconst favoriteArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\nconst basketArr = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n\ncreateMarkup(instruments, list);\nlist.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  evt.preventDefault();\n  if (evt.target.classList.contains('js-info')) {\n    const product = findProduct(evt.target);\n    createModal(product);\n  }\n\n  if (evt.target.classList.contains('js-basket')) {\n    const product = findProduct(evt.target);\n    basketArr.push(product);\n    localStorage.setItem(common.KEY_BASKET, JSON.stringify(basketArr));\n  }\n\n  if (evt.target.classList.contains('js-favorite')) {\n    const product = findProduct(evt.target);\n    const inStorage = favoriteArr.some(({ id }) => id === product.id);\n\n    if (inStorage) {\n      return;\n    }\n\n    favoriteArr.push(product);\n    localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoriteArr));\n  }\n}\n\nfunction findProduct(elem) {\n  const productId = Number(elem.closest('.js-card').dataset.id);\n  return instruments.find(({ id }) => id === productId);\n}\n\n\n\n\n// try {\n//   console.log(tet_value);\n// } catch (err) {\n//   console.log(err);\n// }\n\n// console.log('after error');"],"names":["$UDlvM","parcelRequire","document","querySelector","$1f0dc3b9307be026$var$list","$1f0dc3b9307be026$var$ref","$1f0dc3b9307be026$var$favoriteArr","JSON","parse","localStorage","getItem","common","KEY_FAVORITE","$1f0dc3b9307be026$var$ref1","$1f0dc3b9307be026$var$basketArr","KEY_BASKET","$1f0dc3b9307be026$var$findProduct","elem","productId","Number","closest","dataset","id","$c1Bmg","instruments","find","$dEdDu","createMarkup","addEventListener","evt","preventDefault","target","classList","contains","product","$l5ICX","createModal","push","setItem","stringify","some"],"version":3,"file":"index.396437ba.js.map"}